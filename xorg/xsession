#!/usr/bin/env bash

# xsession
# author: Seong Yong-ju <sei40kr@gmail.com>

## xorg tools

if ! hash xset 2>/dev/null; then
    echo 'WARN: xset is not installed.' >&2
else
    xset r rate 150 30
fi

if ! hash xsetroot 2>/dev/null; then
    echo 'WARN: xsetroot is not installed.' >&2
else
    xsetroot -cursor_name left_ptr
fi


## compton

if ! hash compton 2>/dev/null; then
    echo 'WARN: compton is not installed.' >&2
elif ! hash comp 2>/dev/null; then
    echo 'WARN: comp was not found or is not executable.' >&2
else
    comp -q || comp
fi


## fcitx

if ! hash fcitx-autostart 2>/dev/null; then
    echo 'WARN: fcitx (and fcitx-autostart) is not installed.' >&2
else
    fcitx-autostart
fi


## feh

if ! hash feh 2>/dev/null; then
    echo 'WARN: feh is not installed.' >&2
elif [ ! -x "${HOME}/.fehbg" ]; then
    echo 'WARN: ~/.fehbg was not found or is not executable.' >&2
else
    eval "${HOME}/.fehbg"
fi


eval "${HOME}/.local/bin/my-xmonad"
