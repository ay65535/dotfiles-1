set-option -g @plugin tmux-plugins/tpm

set-option -g @plugin tmux-plugins/tmux-copycat
set-option -g @plugin tmux-plugins/tmux-open
set-option -g @plugin tmux-plugins/tmux-pain-control

# tmux-sensible
set-option -g prefix C-t
set-option -g @plugin tmux-plugins/tmux-sensible

set-option -g @plugin tmux-plugins/tmux-yank

# tmux-per-project-session
set-option -g @per-project-session-workspace-dirs "${HOME}/develop/workspace:${GOPATH}/src/github.com/sei40kr"
set-option -g @per-project-session-known-project-dirs "${HOME}/.dotfiles:${HOME}/.emacs.d:${HOME}/.spacemacs.d"
set-option -g @per-project-session-fzf-opts '-d 15 --reverse --inline-info --color=dark --color=fg:-1,bg:-1,hl:#c678dd,fg+:#ffffff,bg+:#4b5263,hl+:#d858fe --color=info:#98c379,prompt:#61afef,pointer:#be5046,marker:#e5c07b,spinner:#61afef,header:#61afef'
if-shell '[ "$(uname)" != Darwin ]' \
    'set-option -g @per-project-session-open-terminal-for-new-session on; \ set-option -g @per-project-session-terminal-cmd "alacritty -e"'
set-option -g @plugin sei40kr/tmux-per-project-session

run-shell -b ~/.tmux/plugins/tpm/tpm

set-option -s default-terminal tmux-256color
if-shell '[ "$TERM" = alacritty ]' \
    'set-option -as terminal-overrides ,alacritty:RGB'
if-shell '[ "${TERM:6:8}" = 256color -o "${TERM:7:8}" = 256color ]' \
    'set-option -as terminal-overrides ,*256color*:Tc'
set-option -g base-index 1
set-option -g bell-action none
set-option -g destroy-unattached off
set-option -g detach-on-destroy on
set-option -g focus-events off
set-option -g pane-base-index 1
set-option -g renumber-windows on
set-option -g set-titles on
set-option -g set-titles-string 'Alacritty@#S'
set-option -g wrap-search on
set-option -g xterm-keys on

set-window-option -g status-keys emacs
set-window-option -g mode-keys vi

# Move between windows
bind-key -n M-j next-window
bind-key -n M-k previous-window
# Create a new session
bind-key C new-session
# Move between sessions
bind-key -n M-l switch-client -n
bind-key -n M-h switch-client -p
bind-key -n M-e choose-session

# Vim friendly configuration
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send -X copy-selection
bind-key -T copy-mode-vi Space send -X halfpage-down
bind-key -T copy-mode-vi Bspace send -X halfpage-up

# Theme
set-option -g message-command-style 'bg=#1c1e24,fg=blue'
set-option -g message-style 'bg=#1c1e24,fg=default'
set-option -g mode-style 'bg=#42434a'
set-option -g pane-active-border-style 'fg=#191a20'
set-option -g pane-border-style 'fg=#191a20'
set-option -g status-style ''
set-option -g status-left ' #{=17:session_name} #[fg=green] #I  '
set-option -g status-left-length 24
set-option -g status-left-style 'fg=blue,bold'
set-option -g status-right ''
set-option -g window-status-current-format ' #W#F '
set-option -g window-status-current-style 'bold'
set-option -g window-status-format ' #W '
set-option -g window-status-separator ' '
set-option -g window-status-style 'fg=white'
